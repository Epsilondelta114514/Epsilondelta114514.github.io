<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>化学テキスト - Text Portal</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <header>
        <h1><a href="index.html" class="header-link">Text Portal</a></h1>
    </header>
    <nav>
        <ul>
            <li><a href="math.html">数学</a></li>
            <li><a href="science.html">理科</a></li>
            <li><a href="questions.html">質問</a></li>
        </ul>
    </nav>

    <div class="page-container">
        <div class="left-column">
            <h2>化学テキスト</h2>

            <div class="update-info">
                <h4>更新情報</h4>
                         <p>2025/08/13: 演習問題解答追加．</p>
                <p>2025/08/09: 演習問題解答追加(一部)．</p>
                <p>2025/08/08: フェノールまで追加．</p>
                <p>2025/08/04: 脂肪族確認テストを追加．</p>
                <p>2025/08/02: エステルまで追加．</p>
                <p>2025/07/30: カルボン酸まで追加．</p>
                <p>2025/07/29: 8月テキスト(有機化学)を追加．</p>
            </div>

            <div id="text-list-container">
                <h3>最新のアップロード</h3>
                <div class="exam-year-item-container">
                    <div class="exam-year-header">
                        <h4>8月テキスト：有機化学</h4>
                        <div>
                            <a href="家庭教師テキスト/chem/chem_organic_text.pdf" class="exam-button file-link">表示</a>
                            <a href="家庭教師テキスト/chem/chem_organic_text.pdf" class="exam-button file-link" download>DL</a>
                        </div>
                    </div>
                </div>
                <div class="exam-year-item-container">
                    <div class="exam-year-header">
                        <h4>練習問題切り抜き</h4>
                        <div>
                            <a href="家庭教師テキスト/chem/question.pdf" class="exam-button file-link">表示</a>
                            <a href="家庭教師テキスト/chem/question.pdf" class="exam-button file-link" download>DL</a>
                        </div>
                    </div>
                </div>
                <div class="exam-year-item-container">
                    <div class="exam-year-header">
                        <h4>練習問題解答</h4>
                        <div>
                            <a href="家庭教師テキスト/chem/ans.pdf" class="exam-button file-link">表示</a>
                            <a href="家庭教師テキスト/chem/ans.pdf" class="exam-button file-link" download>DL</a>
                        </div>
                    </div>
                </div>
                <div class="exam-year-item-container">
                    <div class="exam-year-header">
                        <h4>脂肪族確認テスト</h4>
                        <div>
                            <a href="家庭教師テキスト/chem/test.pdf" class="exam-button file-link">表示</a>
                            <a href="家庭教師テキスト/chem/test.pdf" class="exam-button file-link" download>DL</a>
                        </div>
                    </div>
                </div>
                <div class="exam-year-item-container">
                    <div class="exam-year-header">
                        <h4>確認テスト解答</h4>
                        <div>
                            <a href="家庭教師テキスト/chem/answer.pdf" class="exam-button file-link">表示</a>
                            <a href="家庭教師テキスト/chem/answer.pdf" class="exam-button file-link" download>DL</a>
                        </div>
                    </div>
                </div>
                <!-- <h3>8月テキスト</h3>
                <div class="exam-year-item-container">
                    <div class="exam-year-header">
                        <h4>8月テキスト：有機化学</h4>
                        <div>
                            <a href="家庭教師テキスト/chem/chem_organic_text.pdf" class="exam-button file-link">表示</a>
                            <a href="家庭教師テキスト/chem/chem_organic_text.pdf" class="exam-button file-link" download>DL</a>
                        </div>
                    </div>
                </div> -->


                <h3>以前のテキスト</h3>
                <div class="exam-year-item-container">
                    <div class="exam-year-header">
                        <h4>演習問題：化学平衡</h4>
                        <div>
                            <a href="家庭教師テキスト/chem/0720text.pdf" class="exam-button file-link">表示</a>
                            <a href="家庭教師テキスト/chem/0720text.pdf" class="exam-button file-link" download>DL</a>
                        </div>
                    </div>
                </div>

                <div class="exam-year-item-container">
                    <div class="exam-year-header">
                        <h4>演習問題：無機化学(発展)</h4>
                        <div>
                            <a href="家庭教師テキスト/chem/Inorganic Chemistry Exercises.pdf"
                                class="exam-button file-link">表示</a>
                            <a href="家庭教師テキスト/chem/Inorganic Chemistry Exercises.pdf" class="exam-button file-link"
                                download>DL</a>
                        </div>
                    </div>
                </div>


            </div>
        </div>

        <div class="right-column">
            <div id="pdf-placeholder">
                <p>「表示」ボタンをクリックするとPDFが表示されます．</p>
            </div>
            <iframe id="pdf-viewer" frameborder="0"></iframe>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const listContainer = document.getElementById('text-list-container');
            const pdfViewer = document.getElementById('pdf-viewer');
            const pdfPlaceholder = document.getElementById('pdf-placeholder');

            listContainer.addEventListener('click', function (event) {
                // 「表示」ボタン(file-linkクラスを持つ要素)がクリックされたかチェック
                if (event.target.classList.contains('file-link')) {

                    // ★★★ ここからが変更部分 ★★★
                    // 画面幅が768pxより大きい（PC）場合のみ、プレビュー機能を動かす
                    if (window.innerWidth > 768) {
                        event.preventDefault(); // リンクの通常動作をキャンセル

                        const clickedItem = event.target.closest('.exam-year-item-container');
                        if (!clickedItem) return;

                        // すべての項目のアクティブ状態を解除
                        document.querySelectorAll('.exam-year-item-container.active').forEach(item => {
                            item.classList.remove('active');
                        });
                        // クリックされた項目をアクティブにする
                        clickedItem.classList.add('active');

                        // PDFを表示
                        const pdfUrl = event.target.href;
                        pdfPlaceholder.style.display = 'none';
                        pdfViewer.style.display = 'block';
                        pdfViewer.src = pdfUrl;
                    }
                    // ★★★ 変更部分ここまで ★★★
                    // スマホの場合は event.preventDefault() が実行されないため、
                    // リンクは通常の動作（新しいタブでPDFを開く）をします。
                }
            });
        });
    </script>
</body>

</html>