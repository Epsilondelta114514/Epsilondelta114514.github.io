<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>方向入力練習</title>
    <style>
        /* --- ページの基本スタイル --- */
        body {
            font-family: 'Helvetica Neue', Arial, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            background-color: #f0f2f5;
            color: #333;
            text-align: center;
        }

        /* --- ゲーム全体のコンテナ --- */
        #game-wrapper {
            background-color: white;
            padding: 40px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        /* --- 指示テキストのスタイル --- */
        #instruction {
            font-size: 2.5rem;
            font-weight: bold;
            margin-bottom: 30px;
            color: #007bff;
        }

        /* --- ボタンを配置するコンテナ (CSS Gridを使用) --- */
        #button-container {
            display: grid;
            grid-template-columns: 100px 100px 100px; /* 3列 */
            grid-template-rows: 100px 100px 100px;    /* 3行 */
            gap: 10px; /* ボタン間の隙間 */
            width: 320px;
            height: 320px;
            margin: 0 auto; /* 中央揃え */
        }

        /* --- 各ボタンの共通スタイル --- */
        .control-button {
            font-size: 1.2rem;
            font-weight: bold;
            border: 2px solid #ccc;
            border-radius: 8px;
            background-color: #fff;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .control-button:hover {
            background-color: #e9ecef;
            border-color: #999;
        }
        
        .control-button:active {
            transform: scale(0.95);
            background-color: #dbe4f0;
        }

        /* --- 各ボタンをグリッドの特定の位置に配置 --- */
        #up    { grid-row: 1; grid-column: 2; } /* 上 */
        #left  { grid-row: 2; grid-column: 1; } /* 左 */
        #right { grid-row: 2; grid-column: 3; } /* 右 */
        #down  { grid-row: 3; grid-column: 2; } /* 下 */

        /* --- 結果フィードバックのテキストスタイル --- */
        #feedback {
            margin-top: 20px;
            font-size: 1.5rem;
            font-weight: bold;
            height: 30px; /* 高さを固定してレイアウトが崩れないようにする */
        }

        /* 正解・不正解で色を変えるためのクラス */
        .correct { color: #28a745; }
        .incorrect { color: #dc3545; }
    </style>
</head>
<body>

    <div id="game-wrapper">
        <h2 id="instruction">指示待機中...</h2>
        <div id="button-container">
            <button id="up" class="control-button">アップ</button>
            <button id="left" class="control-button">レフト</button>
            <button id="right" class="control-button">ライト</button>
            <button id="down" class="control-button">ダウン</button>
        </div>
        <p id="feedback"></p>
    </div>

    <script>
        // --- HTML要素の取得 ---
        const instructionEl = document.getElementById('instruction');
        const feedbackEl = document.getElementById('feedback');
        const upButton = document.getElementById('up');
        const downButton = document.getElementById('down');
        const leftButton = document.getElementById('left');
        const rightButton = document.getElementById('right');

        // --- ゲームの設定 ---
        const directions = ['アップ', 'ダウン', 'レフト', 'ライト'];
        // 指示(日本語)とボタンのIDを対応付けるオブジェクト
        const directionMap = {
            'アップ': 'up',
            'ダウン': 'down',
            'レフト': 'left',
            'ライト': 'right'
        };
        let currentCorrectDirection = '';

        // --- 新しい指示を生成する関数 ---
        function generateNewInstruction() {
            // directions配列からランダムに1つ選ぶ
            const randomIndex = Math.floor(Math.random() * directions.length);
            currentCorrectDirection = directions[randomIndex];
            
            // 画面の指示を更新
            instructionEl.textContent = `${currentCorrectDirection}！`;
            
            // フィードバックをクリア
            feedbackEl.textContent = '';
            feedbackEl.className = '';
        }

        // --- 答えを確認する関数 ---
        function checkAnswer(pressedButtonId) {
            // 正解のボタンIDを取得
            const correctButtonId = directionMap[currentCorrectDirection];

            if (pressedButtonId === correctButtonId) {
                // 正解の場合
                feedbackEl.textContent = '正解！';
                feedbackEl.className = 'correct';
                // 0.5秒後に次の問題へ
                setTimeout(generateNewInstruction, 500);
            } else {
                // 不正解の場合
                feedbackEl.textContent = '不正解！';
                feedbackEl.className = 'incorrect';
            }
        }

        // --- 各ボタンにクリックイベントを設定 ---
        upButton.addEventListener('click', () => checkAnswer('up'));
        downButton.addEventListener('click', () => checkAnswer('down'));
        leftButton.addEventListener('click', () => checkAnswer('left'));
        rightButton.addEventListener('click', () => checkAnswer('right'));
        
        // --- ゲーム開始 ---
        generateNewInstruction();

    </script>
</body>
</html>